# 17. λ‚΄μ© ν‘μƒκ³Ό νΈλμ¤μ½”λ”©

**μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ΄ μ–΄λ–»κ² λ‚΄μ© ν‘μƒμ„ μν–‰ν•λ”κ°€?**

λ‚΄μ© ν‘μƒ(Content-negotiation) : λ™μΌν• URLμ λ‹¤κµ­μ–΄ μ§€μ› λ“± μ—¬λ¬ λ¦¬μ†μ¤ μ¤‘ μ ν•©ν• λ‚΄μ©μ„ μ κ³µν•λ” λ°©λ²•

νΈλμ¤μ½”λ”©: νΉμ • URLμ— λ€ν•΄ ν΄λΌμ΄μ–ΈνΈμ κµ¬ν• λ””λ°”μ΄μ¤ λ“±μ„ νλ‹¨ν•μ—¬ μ•λ§λ” νμ΄μ§€λ΅ μ κ³µν•λ” λ°©λ²•

## 17.1 λ‚΄μ© ν‘μƒ κΈ°λ²•

1. ν΄λΌμ΄μ–ΈνΈμ—κ² μ„ νƒμ§€λ¥Ό μ£Όλ” λ°©λ²•
2. μ„λ²„κ°€ μλ™μΌλ΅ νλ‹¨ν•λ” λ°©λ²•
3. μ¤‘κ°μμ—κ² μ„ νƒν•λ„λ΅ λ¶€νƒν•λ” λ°©λ²•

| κΈ°λ²•            | λ™μ‘ λ°©μ‹                                                                                 | μ¥μ                                                                                                                                                                                                            | λ‹¨μ                                                                            |
| --------------- | ----------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------ |
| ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ | ν΄λΌμ΄μ–ΈνΈκ°€ μ”μ²­μ„ λ³΄λ‚΄λ©΄ μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ—κ² μ„ νƒμ§€λ¥Ό λ³΄λ‚΄μ£Όκ³  ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νƒν•λ‹¤. | μ„λ²„ μ…μ¥μ—μ„ κ°€μ¥ κµ¬ν„ν•κΈ° μ‰½λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μµμ„ μ μ„ νƒμ„ ν•  μ μλ‹¤.                                                                                                                                       | λ€κΈ°μ‹κ°„μ΄ μ¦κ°€ν•λ‹¤. μ¦‰, μ¬λ°”λ¥Έ μ½ν…μΈ λ¥Ό μ–»μΌλ ¤λ©΄ μµμ† λ‘λ²μ μ”μ²­μ΄ ν•„μ”ν•λ‹¤. |
| μ„λ²„ μ£Όλ„       | μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­ ν—¤λ”λ¥Ό κ²€μ¦ν•΄μ„ μ–΄λ–¤ λ²„μ „μ„ μ κ³µν• μ§€ κ²°μ •ν•λ‹¤.                   | ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ ν‘μƒλ³΄λ‹¤ λΉ λ¥΄λ‹¤. HTTPλ” μ„λ²„κ°€ κ°€μ¥ μ μ ν• κ²ƒμ„ μ„ νƒν•  μ μλ„λ΅ qκ°’ λ©”μ»¤λ‹μ¦μ„ μ κ³µν•κ³ , μ„λ²„κ°€ λ‹¤μ΄μ¤νΈλ¦Ό μ¥μΉμ—κ² μ”μ²­μ΄ μ–΄λ–»κ² ν‰κ°€λλ”μ§€ λ§ν•΄μ¤„ μ μλ„λ΅ ν•κΈ° μ„ν•΄ Vary ν—¤λ”λ¥Ό μ κ³µν•λ‹¤. | λ§μ•½ κ²°μ •μ΄ λ»”ν•μ§€ μ•μΌλ©΄(ν—¤λ”μ— λ§λ” κ²ƒμ΄ μ—†μΌλ©΄) μ„λ²„λ” μ¶”μΈ΅μ„ ν•΄μ•Ό ν•λ‹¤.    |
| ν¬λ…            | ν¬λ…ν• μ¤‘κ°„ μ¥μΉ(μ£Όλ΅ ν”„λ½μ‹ μΊμ‹)κ°€ μ„λ²„λ¥Ό λ€μ‹ ν•μ—¬ ν‘μƒμ„ ν•λ‹¤.                         | μ›Ή μ„λ²„κ°€ ν‘μƒμ„ ν•  ν•„μ”κ°€ μ—†λ‹¤. ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ ν‘μƒλ³΄λ‹¤ λΉ λ¥΄λ‹¤.                                                                                                                                              | ν¬λ… ν‘μƒμ„ μ–΄λ–»κ² ν•λ”μ§€μ— λ€ν• μ •ν•ν™”λ λ…μ„Έκ°€ μ—†λ‹¤.                         |

## 17.2 ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ ν‘μƒ

μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ λ°›μ•μ„ λ• μ κ³µ κ°€λ¥ν• νμ΄μ§€μ λ©λ΅μ„ μ‘λ‹µμΌλ΅ λλ ¤μ£Όμ–΄ ν΄λΌμ΄μ–ΈνΈκ°€ λ³΄κ³  μ‹¶μ€ κ²ƒμ„ μ„ νƒν•κ² ν•λ‹¤. μ„λ²„μ—κ² μμ–΄ κ°€μ¥ μ‰¬μ΄ λ°©λ²•μ΄κ³  μµμ„ μ μ‚¬λ³Έμ΄ μ„ νƒλ  κ²ƒμ΄λ‹¤.

μ‚¬μ©μκ°€ κ²°μ •μ„ ν•κΈ° μ„ν•΄ λ€ν™”μ°½μ„ λ„μ°κ³ , μλ™μΌλ΅ ν΄λΌμ΄μ–ΈνΈκ°€ κ²°μ •ν•κ² ν•λ”λ° μ†μ”λ μ¦κ°€λ λ€κΈ°μ‹κ°„κ³Ό νμ΄μ§€λ‹Ή μ—¬λ¬ λ²μ μ”μ²­μ΄ ν•„μ”ν•λ‹¤λ” λ‹¨μ μ΄ μλ‹¤. λ, μ—¬λ¬κ°μ URL(μ£Ό νμ΄μ§€ ν•λ‚μ™€ κ° νΉμ • μ΅°κ±΄λ³„ νμ΄μ§€λ“¤)μ„ μ”κµ¬ν•λ‹¤.

- www.joes-hadware.com
- www.joes-hadware.com/english
- www.joes-hadware.com/french

ν΄λΌμ΄μ–ΈνΈλ” μ–΄λ νμ΄μ§€λ¥Ό λ¶λ§ν¬λ¥Ό ν•  κ²ƒμΈκ°€ ?

## 17.3 μ„λ²„ μ£Όλ„ ν‘μƒ

ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ ν‘μƒμ λ‹¨μ μΈ μ„λ²„ β†” ν΄λΌμ΄μ–ΈνΈ μ»¤λ®¤λ‹μΌ€μ΄μ… μ¦κ°€λ¥Ό μ¤„μ΄κΈ° μ„ν• ν• λ°©λ²•μ€ μ„λ²„κ°€ μ–΄λ–¤ νμ΄μ§€λ¥Ό λλ ¤μ¤„ κ²ƒμΈμ§€ κ²°μ •ν•κ² ν•λ” κ²ƒμ΄λ‹¤. ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ΄ λ¬΄μ—‡μ„ μ„ νΈν•λ”μ§€μ— λ€ν• μ¶©λ¶„ν• μ •λ³΄λ¥Ό μ„λ²„μ—κ² μ κ³µν•΄μ•Ό ν•λ‹¤.

### 17.3.1 λ‚΄μ© ν‘μƒ ν—¤λ”

ν΄λΌμ΄μ–ΈνΈλ” Accept κ΄€λ ¨ ν—¤λ”λ¥Ό μ΄μ©ν•΄μ„ μμ‹ μ μ„ νΈ μ •λ³΄λ¥Ό λ³΄λ‚Ό μ μλ‹¤.

| ν—¤λ”            | μ„¤λ…                                                |
| --------------- | --------------------------------------------------- |
| Accept          | μ„λ²„κ°€ μ–΄λ–¤ λ―Έλ””μ–΄ νƒ€μ…μΌλ΅ λ³΄λ‚΄λ„ λλ”μ§€ μ•λ ¤μ¤€λ‹¤. |
| Accept-Language | μ„λ²„κ°€ μ–΄λ–¤ μ–Έμ–΄λ΅ λ³΄λ‚΄λ„ λλ”μ§€ μ•λ ¤μ¤€λ‹¤.          |
| Accept-Charset  | μ„λ²„κ°€ μ–΄λ–¤ μ°¨μ…‹μΌλ΅ λ³΄λ‚΄λ„ λλ”μ§€ μ•λ ¤μ¤€λ‹¤.        |
| Accept-Encoding | μ„λ²„κ°€ μ–΄λ–¤ μΈμ½”λ”©μΌλ΅ λ³΄λ‚΄λ„ λλ”μ§€ μ•λ ¤μ¤€λ‹¤.      |

15μ¥μ—μ„ μ΄μ•ΌκΈ°ν–λ μ—”ν„°ν‹° ν—¤λ”λ“¤κ³Ό λΉ„μ·ν•μ§€λ§ λ¶„λ…ν λ‹¤λ¥΄λ‹¤.

- μ—”ν„°ν‹° ν—¤λ”
  - λ©”μ‹μ§€λ¥Ό μ„λ²„μ—μ„ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅ ν•  λ• ν•„μ”ν• λ©”μ‹μ§€ λ³Έλ¬Έμ μ†μ„±
- λ‚΄μ© ν‘μƒ ν—¤λ”
  - ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„κ°€ μ„ νΈ μ •λ³΄λ¥Ό μ„λ΅ κµν™ν•κ³  λ¬Έμ„λ“¤μ μ—¬λ¬ λ²„μ „ μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•λ” κ²ƒμ„ λ„μ™€, ν΄λΌμ΄μ–ΈνΈμ μ„ νΈμ— κ°€μ¥ μ λ§λ” λ¬Έμ„λ¥Ό μ κ³µν•΄μ£ΌκΈ° μ„ν• λ©μ 

μ„λ²„λ” ν΄λΌμ΄μ–ΈνΈμ Accept κ΄€λ ¨ ν—¤λ”λ“¤μ„ μ μ ν• μ—”ν„°ν‹° ν—¤λ”λ“¤κ³Ό μ§μ„ μ§€μ–΄μ¤€λ‹¤.

| Accept κ΄€λ ¨ ν—¤λ”λ“¤ | μ—”ν„°ν‹° ν—¤λ”      |
| ------------------ | ---------------- |
| Accept             | Content-Type     |
| Accept-Language    | Content-Language |
| Accept-Charset     | Content-Type     |
| Accept-Encoding    | Content-Encoding |

HTTPλ” μƒνƒκ°€ μ—†λ” ν”„λ΅ν† μ½ μ΄κΈ° λ•λ¬Έμ— ν΄λΌμ΄μ–ΈνΈλ” μμ‹ μ μ„ νΈ μ •λ³΄λ¥Ό λ°λ“μ‹ λ§¤ μ”μ²­λ§λ‹¤ λ³΄λ‚΄μ•Ό ν•λ‹¤.

μ„λ²„κ°€ μλ™μΌλ΅ λλ ¤λ³΄λ‚Ό λ¬Έμ„λ¥Ό κ³ λ¥΄λ„λ΅ ν•λ” κ²ƒμ€ ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ λ¨λΈμ—μ„ ν‘μƒμ„ μ„ν•΄ λ°μƒν–λ μ¶”κ°€ μ»¤λ®¤λ‹μΌ€μ΄μ… λ€κΈ°μ‹κ°„μ„ μ¤„μ—¬μ¤€λ‹¤.

κ·Έλ¬λ‚ ν΄λΌμ΄μ–ΈνΈκ°€ μ›ν•λ” λ¬Έμ„κ°€ μ„λ²„μ— μ—†λ‹¤λ©΄ ? μ„λ²„λ” λ¥λ ¥κ» μ¶”μΈ΅ν•κ±°λ‚ ν΄λΌμ΄μ–ΈνΈ μ£Όλ„ λ¨λΈλ΅ μ „ν™ν•μ—¬ ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νƒν•λ„λ΅ ν•΄μ•Ό ν•λ‹¤.

λ‹¤ν–‰νλ„ HTTPλ” ν΄λΌμ΄μ–ΈνΈκ°€ μ„ νΈν•λ” ν’λ¶€ν• μ„¤λ…μ„ ν’μ§κ°’(quality value, μ¤„μ—¬μ„ qκ°’)μ„ μ΄μ©ν•΄ μ „λ‹¬ν•  μ μλ” λ©”μ»¤λ‹μ¦μ„ μ κ³µν•λ‹¤.

### 17.3.2 λ‚΄μ© ν‘μƒ ν—¤λ”μ ν’μ§κ°’

HTTP ν”„λ΅ν† μ½μ€ ν΄λΌμ΄μ–ΈνΈκ°€ κ° μ„ νΈμ μΉ΄ν…κ³ λ¦¬λ§λ‹¤ μ—¬λ¬ μ„ νƒ κ°€λ¥ν• ν•­λ©μ„ μ„ νΈλ„μ™€ ν•¨κ» λ‚μ—΄ν•  μ μλ„λ΅ ν’μ§κ°’μ„ μ •μν•μ€λ‹¤.

- Accept-Language : en;q=0.5, fr;q=0.0, nl;q=1.0, tr;q=0.0

qκ°’μ€ 0.0 ~ 1.0 μ κ°’μ„ κ°€μ§ μ μλ‹¤. μ„μ μμ‹μ—μ„ λ„¤λλ€λ“μ–΄λ΅ λ λ¬Έμ„λ¥Ό μ›ν•κ³  μμ–΄λ΅ λ λ¬Έμ„λΌλ„ λ°›κΈ°λ¥Ό μ›ν•λ©° ν”„λ‘μ¤μ–΄λ‚ ν„°ν‚¤μ–΄λ” μ›ν•μ§€ μ•λ” μ”μ²­μ΄λ‹¤. ν΄λΌμ΄μ–ΈνΈμ μ„ νΈμ— λ€μ‘ν•λ” λ¬Έμ„κ°€ μ—†λ‹¤λ©΄ μ„λ²„λ” νΈλμ¤μ½”λ”©λ λ¬Έμ„λ¥Ό λ‚΄λ ¤μ¤„ μλ„ μλ‹¤.

### 17.3.3 κ·Έ μ™Έμ ν—¤λ”λ“¤μ— μν•΄ κ²°μ •

μ„λ²„λ” λν• User-Agentμ™€ κ°™μ€ ν΄λΌμ΄μ–ΈνΈμ λ‹¤λ¥Έ μ”μ²­ ν—¤λ”λ“¤μ„ μ΄μ©ν•΄ μ•λ§μ€ μ”μ²­μ„ λ§λ“¤μ–΄λ‚΄λ ¤κ³  μ‹λ„ν•  μ μλ‹¤. μ„λ²„μ κµ¬ν„μ— λ”°λΌ μ„λ²„λ” μ •ν™•ν• λ€μ‘μ„ μ°Ύμ•„λ‚΄κ±°λ‚ μ•„λ‹λ©΄ κ·Έλƒ¥ κ°–κ³  μλ” κ²ƒμ„ μ κ³µν•΄μ£Όμ–΄μ•Ό ν•λ‹¤. μΊμ‹λ λ¬Έμ„λ¥Ό μ κ³µν•  λ• HTTP ν”„λ΅ν† μ½μ€ μ„λ²„κ°€ μ‘λ‹µμ— λ„£μ–΄ λ³΄λ‚Ό μ μλ” Vary ν—¤λ”λ¥Ό μ •μν•λ‹¤. Vary ν—¤λ”λ” μΊμ‹μ—κ²(ν΄λΌμ΄μ–ΈνΈλ‚ κ·Έ μ™Έμ λ¨λ“  λ‹¤μ΄μ¤νΈλ¦Ό ν”„λ½μ‹μ—κ²) μ„λ²„κ°€ λ‚΄μ¤„ μ‘λ‹µμ μµμ„ μ λ²„μ „μ„ κ²°μ •ν•κΈ° μ„ν•΄μ„ μ–΄λ–¤ μ”μ²­ ν—¤λ”λ¥Ό μ°Έκ³ ν•κ³  μλ”μ§€ λ§ν•΄μ¤€λ‹¤.

### 17.3.4 μ•„νμΉμ λ‚΄μ© ν‘μƒ

μ•„νμΉ μ›Ή μ„λ²„κ°€ λ‚΄μ© ν‘μƒμ„ μ§€μ›ν•λ” λ°©λ²•μ€ λ‹¤μκ³Ό κ°™λ‹¤.

λ‚΄μ© ν‘μƒμ€ μ›Ή μ‚¬μ΄νΈ μ½ν…μΈ μ μ κ³µμμ—κ² λ‹¬λ ¤μλ‹¤. λ§μ•½ μƒ‰μΈ νμ΄μ§€λ¥Ό μ—¬λ¬ κ°€μ§€ λ²„μ „μΌλ΅ μ κ³µν•΄μ£Όλ ¤κ³  ν•λ‹¤λ©΄ μ½ν…μΈ  μ κ³µμκ°€ κ°κ°μ λ²„μ „μ— ν•΄λ‹Ήν•λ” νμΌλ“¤μ„ μ•„νμΉ μ„λ²„μ μ μ ν• λ””λ ‰ν„°λ¦¬μ— λ¨λ‘ λ„£μ–΄μ£Όμ–΄μ•Ό ν•λ‹¤. κ·Έ λ‹¤μ λ‘ μ¤‘ ν• λ°©λ²•μΌλ΅ λ‚΄μ© ν‘μƒμ„ λ™μ‘μ‹ν‚¨λ‹¤.

- μ›Ή μ‚¬μ΄νΈ λ””λ ‰ν„°λ¦¬μ—μ„ λ² λ¦¬μ–ΈνΈ(variant)λ¥Ό κ°–λ” μ›Ή μ‚¬μ΄νΈμ κ° URLλ¥Ό μ„ν• type-map νμΌμ„ λ§λ“ λ‹¤. κ·Έ type-mapνμΌμ€ λ¨λ“  λ°°λ¦¬μ–ΈνΈμ™€ κ·Έλ“¤ κ°κ°μ— λ€μ‘ν•λ” λ‚΄μ© ν‘μƒ ν—¤λ”λ“¤μ„ λ‚μ—΄ν•λ‹¤.
- μ•„νμΉκ°€ κ·Έ λ””λ ‰ν„°λ¦¬μ— λ€ν•΄ μλ™μΌλ΅ type-map νμΌμ„ μƒμ„±ν•λ„λ΅ ν•λ” MultiViews μ§€μ‹μ–΄λ¥Ό μΌ λ‹¤.

**_type-map νμΌ μ‚¬μ©ν•κΈ°_**

μ„λ²„ μ„¤μ • νμΌμ— type-map νμΌλ“¤μ„ μ„ν• νμΌ μ ‘λ―Έμ‚¬λ¥Ό λ…μ‹ν• ν•Έλ“¤λ¬λ¥Ό μ¶”κ°€ν•λ‹¤.

AddHandler type-map .var

```tsx
// joes-hardware.var
URI: joes-hardware.html

URI: joes-hardware.en.html
Content-Type: text/html
Content-Language: en

URI: joes-hardware.fr.de.html
Content-Type: text/html;charset=iso-8859-2
Content-Language: fr, de
```

**_MultiVeiws μ‚¬μ©ν•κΈ°_**

access.conf νμΌμ μ μ ν• μ (<Directory>, <Location>, νΉμ€ <Files>)μ— Options μ§€μ‹μ–΄λ¥Ό μ΄μ©ν•΄μ„ μ›Ή μ‚¬μ΄νΈλ¥Ό ν¬ν•¨ν• λ””λ ‰ν„°λ¦¬μ— MultiViewsλ¥Ό λ°λ“μ‹ μΌμ•Ό ν•λ‹¤. MuiltiViewsκ°€ μΌμ Έ μκ³  λΈλΌμ°μ €κ°€ joes-hardwareλΌλ” μ΄λ¦„μ λ¦¬μ†μ¤λ¥Ό μ”μ²­ν–λ‹¤λ©΄ μ„λ²„λ” μ΄λ¦„μ— β€joes-hardwareβ€κ°€ λ“¤μ–΄ μλ” λ¨λ“  νμΌμ„ μ‚΄ν΄λ³΄κ³  κ·Έλ“¤μ— λ€ν• type-mapμ„ μƒμ„±ν•λ‹¤.

### 17.3.5 μ„λ²„ μΈ΅ ν™•μ¥

μ„λ²„μ—μ„ λ‚΄μ© ν‘μƒμ„ κµ¬ν„ν•λ” λ λ‹¤λ¥Έ λ°©λ²•μΌλ΅, ASPμ™€ κ°™μ΄ μ„λ²„ μ½μ—μ„ ν™•μ¥μ„ ν•λ” λ°©λ²•μ΄ μλ‹¤.

μ„λ²„ μΈ΅ ν™•μ¥μ κ°μ”κ°€ ν•„μ”ν•λ©΄ 8μ¥μ„ λ³΄λΌ. π΅

## 17.4 ν¬λ… ν‘μƒ

ν΄λΌμ΄μ–ΈνΈ μ…μ¥μ—μ„ ν‘μƒν•λ” μ¤‘κ°μ ν”„λ½μ‹λ¥Ό λ‘κ³  ν΄λΌμ΄μ–ΈνΈμ™€μ λ©”μ‹μ§€ κµν™μ„ μµμ†ν™”ν•λ” λ™μ‹μ— μ„λ²„ μ£Όλ„ν‘μƒμΌλ΅ μΈν• λ¶€ν•λ¥Ό μ„λ²„μ—μ„ μ κ±°ν•λ‹¤. ν”„λ½μ‹λ” ν΄λΌμ΄μ–ΈνΈμ μ”κµ¬μ‚¬ν•­μ„ νμ•…ν•μ—¬ ν΄λΌμ΄μ–ΈνΈμ μ…μ¥μ—μ„ ν‘μƒμ„ μν–‰ν•  μ μλ” λ¥λ ¥μ΄ μλ” κ²ƒμΌλ΅ **κ°€μ •λλ‹¤**. μ„λ²„λ” ν”„λ½μ‹μ—κ² ν΄λΌμ΄μ–ΈνΈμ μ–΄λ–¤ μ”μ²­ ν—¤λ”λ¥Ό κ²€μ‚¬ν•΄μ•Ό ν•λ”μ§€ ν”„λ½μ‹μ—κ² λ°λ“μ‹ μ•λ ¤μ£Όμ–΄μ•Ό ν•λ‹¤. HTTP/1.1 λ…μ„Έλ” ν¬λ…ν‘μƒμ— λ€ν• μ–΄λ– ν• λ©”μ»¤λ‹μ¦λ„ μ •μν•μ§€ μ•μ•μ§€λ§, Vary ν—¤λ”λ¥Ό μ •μν–λ‹¤. μ„λ²„λ” μ‘λ‹µμ— Vary ν—¤λ”λ¥Ό ν¬ν•¨μ‹μΌ λ³΄λƒ„μΌλ΅μ¨ μ¤‘κ°μμ—κ² λ‚΄μ© ν‘μƒμ„ μ„ν•΄ μ–΄λ–¤ ν—¤λ”λ¥Ό μ‚¬μ©ν•κ³  μλ”μ§€ μ•λ ¤μ¤„ μ μλ‹¤.

### 14.4.1 μΊμ‹μ™€ μ–Όν„°λ„¤μ΄νΈ(alternate)

![Untitled](./image0.png)

μΊμ‹λ” μΊμ‹λ μ‘λ‹µμ„ λλ ¤μ¤„ λ• Accept κ΄€λ ¨ ν—¤λ”λ“¤κ³Ό κ°κ°μ μ”μ²­μ— μµμ μ μ‘λ‹µμ„ ν•΄μ£ΌκΈ° μ„ν•΄ μ•λ§κ² λ„£μ–΄μ£Όλ” μ—”ν‹°ν‹° ν—¤λ”λ“¤μ„ μ‚¬μ©ν•΄μ•Ό ν•λ‹¤.

**μλ»λ μ**

: ν”„λ‘μ¤μ–΄ μ‚¬μ©μκ°€ ν”„λ‘μ¤μ–΄λ΅λ λ¬Έμ„ μ”μ²­ β†’ μΊμ‹λ” μ”μ²­μ„ μ„λ²„μ— κ·Έλ€λ΅ μ „λ‹¬ν•κ³  μ‘λ‹µμ„ μ €μ¥ β†’ μ¤νμΈμ–΄ μ‚¬μ©μμ—κ² μΊμ‹μ— μ €μ¥λ ν”„λ‘μ¤μ–΄λ΅λ λ¬Έμ„λ¥Ό μ „λ‹¬

**μ¬λ°”λ¥Έ μ**

: μ¤νμΈμ–΄ μ‚¬μ©μμ— λ€ν• μ”μ²­λ„ μ„λ²„μ—κ² κ·Έλ€λ΅ μ „λ‹¬ν•κ³  ν•΄λ‹Ή λ¬Έμ„μ— λ€ν• λ²„μ „μ„ λ¨λ‘ μ €μ¥ β†’ μ„λ²„, μΊμ‹ λ¨λ‘ μ”μ²­ URLμ— λ€ν•΄ λ‘ κ°μ λ‹¤λ¥Έ λ¬Έμ„λ¥Ό κ°–λ”λ‹¤.

λ‹¤λ¥Έ λ²„μ „μ λ¬Έμ„λ¥Ό λ°°λ¦¬μ–ΈνΈ(variant), μ–Όν‹°λ„¤μ΄νΈ(altinate)λ΅ λ¶λ¦°λ‹¤. λ‚΄μ© ν‘μƒμ€ λ°°λ¦¬μ–ΈνΈ μ¤‘μ—μ„ ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— κ°€μ¥ μ λ§λ” κ²ƒμ„ μ„ νƒν•λ” κ²ƒμ΄λ‹¤.

### 17.4.2 Vary ν—¤λ”

HTTP Vary μ‘λ‹µ ν—¤λ”λ” μ„λ²„κ°€ λ¬Έμ„λ¥Ό μ„ νƒν•κ±°λ‚ μ½ν…μΈ λ¥Ό μƒμ„±ν•  λ• κ³ λ ¤ν• ν΄λΌμ΄μ–ΈνΈ μ”μ²­ ν—¤λ” λ¨λ‘λ¥Ό λ‚μ—΄ν•λ‹¤.

ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ΄ μ¤λ©΄ μΊμ‹λ”,

1. λ‚΄μ© ν‘μƒ ν—¤λ”λ¥Ό ν†µν•΄ κ°€μ¥ μ•λ§μ€ μ‚¬λ³Έμ„ μ°Ύλ”λ‹¤.
2. μ„λ²„ μ‘λ‹µμ Vary ν—¤λ” ν™•μΈν•μ—¬ μƒ μ”μ²­κ³Ό μ¤λλ μ”μ²­μ΄ λ§λ”μ§€ ν™•μΈν•λ‹¤.
3. λ§λ” μ‚¬λ³Έμ΄ μ—†μΌλ©΄ μΊμ‹λ” λ¬Έμ„λ¥Ό μ„λ²„μ—μ„ κ°€μ Έμ¨λ‹¤.

λ”°λΌμ„, μΊμ‹λ” κ° λ°°λ¦¬μ–ΈνΈλ§λ‹¤ μ•λ§μ€ λ¬Έμ„ λ²„μ „μ„ μ €μ¥ν•΄μ•Ό ν•λ‹¤.

μ•„λμ™€ κ°™μ€ λ°°λ¦¬μ–ΈνΈλ” μ–΄λ§μ–΄λ§ν• μ–‘μ μ‚¬λ³Έμ„ λ§λ“¤μ–΄λ‚Έλ‹¤.

> Vary: User-Agent, Cookie

![Untitled](./image1.png)

## 17.5 νΈλμ¤μ½”λ”©

μ„λ²„κ°€ ν΄λΌμ΄μ–ΈνΈμ μ”κµ¬μ— λ§λ” λ¬Έμ„λ¥Ό μ•„μ κ°–κ³  μμ§€ μ•λ‹¤λ©΄ ?

- μΌλ°μ μΌλ΅ μ—λ¬λ΅ μ‘λ‹µν•λ‹¤.
- μ„λ²„λ” κΈ°μ΅΄μ λ¬Έμ„λ¥Ό ν΄λΌμ΄μ–ΈνΈκ°€ μ‚¬μ©ν•  μ μκ² λ³€ν™ν•  μ μλ‹¤. β‡’ νΈλμ¤μ½”λ”©

| μ „                             | ν›„                                            |
| ------------------------------ | --------------------------------------------- |
| HTMLλ¬Έμ„                       | WMLλ¬Έμ„                                       |
| κ³ ν•΄μƒλ„ μ΄λ―Έμ§€                | μ €ν•΄μƒλ„ μ΄λ―Έμ§€                               |
| 64K μƒ‰ μ΄λ―Έμ§€                  | ν‘λ°± μ΄λ―Έμ§€                                   |
| ν”„λ μ„μ„ ν¬ν•¨ν• λ³µμ΅ν• νμ΄μ§€  | ν”„λ μ„μ΄λ‚ μ΄λ―Έμ§€κ°€ μ—†λ” λ‹¨μν• ν…μ¤νΈ νμ΄μ§€ |
| μλ°” μ• ν”λ¦Ώμ΄ μλ” HTML νμ΄μ§€ | μλ°” μ• ν”λ¦Ώμ΄ μ—†λ” νμ΄μ§€                     |
| κ΄‘κ³ κ°€ μλ” νμ΄μ§€             | κ΄‘κ³ κ°€ μ—†λ”                                   |

### 17.5.1 ν¬λ§· λ³€ν™

- ν΄λΌμ΄μ–ΈνΈκ°€ λ°μ΄ν„°λ¥Ό λ³Ό μ μλ„λ΅ λ‹¤λ¥Έ ν¬λ§·μΌλ΅ λ³€ν™ν•λ” κ²ƒ
  > WAP(?) ν™κ²½μ—μ„ λ™μ‘ν•λ” μ¤λλ λ‹¨λ§κΈ°μ— HTML λ¬Έμ„λ¥Ό μ ‘κ·Όν•λ‹¤λ©΄ WMLλ΅ λ³€ν™
- User-Agent ν—¤λ”λ‚ λ‚΄μ© ν‘μƒ ν—¤λ”μ— μν•΄ μ£Όλ„λλ‹¤.
- μ½ν…μΈ λ¥Ό νΉμ • μ ‘κ·Ό μ¥μΉμ—μ„ λ³Ό μ μλ„λ΅ ν•λ” κ²ƒμΌλ΅, ν¨μ¨μ μ΄κ³  μ•μ „ν• μ½ν…μΈ  μ „μ†΅μ„ μ„ν• μ½ν…μΈ  μΈμ½”λ”©, μ „μ†΅ μΈμ½”λ”©κ³Όλ” λ‹¤λ¥Έ κ²ƒμ΄λ‹¤.

### 17.5.2 μ •λ³΄ ν•©μ„±

- λ¬Έμ„μ—μ„ κ΄‘κ³  λ° λ΅κ³ λ¥Ό μ κ±°ν• μ •λ³΄μ **μ”μ μ„ μ¶”μ¶**ν•λ” κ²ƒ
- ν‚¤μ›λ“μ— κΈ°λ°ν•μ—¬ λ¬Έμ„μ ν•µμ‹¬μ„ μ”μ•½ν•κ³  νμ΄μ§€λ¥Ό λ¶„λ¥ν•λ” κΈ°μ μ€ μλ™ν™”λ μ›Ήνμ΄μ§€ λ¶„λ¥ μ‹μ¤ν…μ— μν•΄ μ‚¬μ©λλ‹¤.

### 17.5.3 μ½ν…μΈ  μ£Όμ…

- νΉμ • μ‚¬μ©μλ¥Ό λ€μƒμΌλ΅ λ™μ μΌλ΅ λ§¤λ ¥μ μΈ(μ§μ¦λ‚λ”) μλ™ κ΄‘κ³  μ‚½μ…
- μ‚¬μ©μ μ¶”μ  μ‹μ¤ν…μ„ ν†µν•΄ μ‚¬μ©μμ μ›Ή κ²½λ΅ ν†µκ³„λ¥Ό μμ§‘ν•κΈ° μ„ν•΄ λ™μ μΌλ΅ μ½ν…μΈ λ¥Ό μ¶”κ°€

### 17.5.4 νΈλμ¤μ½”λ”© vs. μ •μ μΌλ΅ λ―Έλ¦¬ μƒμ„±ν•΄λ†“κΈ°

- νΈλμ¤μ½”λ”©μ λ€μ•μ€ μ›Ή μ„λ²„μ—μ„ μ›Ήνμ΄μ§€μ μ—¬λ¬ κ°€μ§€ μ‚¬λ³Έμ„ λ§λ“¤μ–΄ λ†“λ” κ²ƒ
  - νμ΄μ§€μ μ‚¬μ†ν• λ³€ν™”κ°€ μμ–΄λ„ μ—¬λ¬ μ‚¬λ³Έμ΄ μƒλ΅ λ³µμ λμ–΄μ•Ό ν•¨
  - λ¨λ“  λ²„μ „μ νμ΄μ§€λ“¤μ„ κ΄€λ¦¬ν•κΈ° μ„ν•΄ λ” λ§μ€ κ³µκ°„μ΄ ν•„μ”
  - νμ΄μ§€λ“¤μ„ κ΄€λ¦¬ν•κ³  μ¬λ°”λ¥Έ κ²ƒμ„ μ κ³µν•΄μ•Ό ν•λ” μ–΄λ ¤μ΄ λ΅μ§μ μ›Ή μ„λ²„λ¥Ό ν”„λ΅κ·Έλλ° ν•΄μ•Ό ν•¨
  - κ΄‘κ³  μ‚½μ… λ“±μ λ™μ μΈ νΈλμ¤μ½”λ”©μ€ μ •μ μΌλ΅ μ κ³µμ΄ λ¶κ°€
- λ£¨νΈ νμ΄μ§€λ¥Ό μ”μ²­μ— λ§κ² ν•„μ”μ— λ”°λΌ λ³€ν™ν•λ” κ²ƒμ΄ μ •μ μΈ κ²ƒλ³΄λ‹¤ ν¨μ¨μ 
  - μ½ν…μΈ  μ κ³µμ— μμ–΄ λ€κΈ°μ‹κ°„ μ¦κ°€λ΅ μΈν• λΉ„μ© μ¦κ°€
  - ν”„λ½μ‹λ‚ μΊμ‹μ— μλ” μ™Έλ¶€ μ—μ΄μ „νΈμ— μν•΄ μ›Ή μ„λ²„μ λ¶€ν•λ¥Ό μ¤„μ—¬μ•Ό ν•¨

![Untitled](./image2.png)

## 17.6 λ‹¤μ λ‹¨κ³„

Acceptλ‚ Content κ΄€λ ¨ ν—¤λ”μ—μ„ λ‚΄μ© ν‘μƒμ΄ μ™„λ£λμ§€ μ•λ” μ΄μ 

- HTTPμ λ‚΄μ© ν‘μƒμ€ μ„±λ¥ μ μ•½μ„ μ΄λν•λ‹¤.
  - μ μ ν• μ½ν…μΈ λ¥Ό μ κ³µν•κΈ° μ„ν•΄ variant νƒμƒ‰ν•κ±°λ‚ μ¶”μΈ΅ ν•λ” κ²ƒμ€ λΉ„μ©μ΄ ν¬λ‹¤
  - κ°„μ†ν™”ν•  μ μμ„κΉ?
- HTTPλ” λ‚΄μ© ν‘μƒμ΄ ν•„μ”ν• μ μΌν• ν”„λ΅ν† μ½μ΄ μ•„λ‹λ‹¤.
  - λ―Έλ””μ–΄ μ¤νΈλ¦¬λ°κ³Ό ν©μ¤λ” ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— λ€ν•΄ μµμ μ λ‹µμ„ μ–΄λ–»κ² λ‚΄λ¦΄ κ²ƒμΈκ°€?
  - TCP/IP μ‘μ© ν”„λ΅ν† μ½ μ„μ—μ„ λ‚΄μ© ν‘μƒμ΄ κ°€λ¥ν• κΉ?
